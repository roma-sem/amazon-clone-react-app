[{"D:\\Dev\\amazon-clone-react-app\\src\\index.js":"1","D:\\Dev\\amazon-clone-react-app\\src\\App.js":"2","D:\\Dev\\amazon-clone-react-app\\src\\reportWebVitals.js":"3","D:\\Dev\\amazon-clone-react-app\\src\\components\\Header\\Header.js":"4","D:\\Dev\\amazon-clone-react-app\\src\\components\\Header\\NavLogo\\NavLogo.js":"5","D:\\Dev\\amazon-clone-react-app\\src\\components\\Header\\SearchBar\\SearchBar.js":"6","D:\\Dev\\amazon-clone-react-app\\src\\components\\Header\\Nav\\Nav.js":"7","D:\\Dev\\amazon-clone-react-app\\src\\components\\Home\\Home.js":"8","D:\\Dev\\amazon-clone-react-app\\src\\components\\Checkout\\Checkout.js":"9","D:\\Dev\\amazon-clone-react-app\\src\\components\\Checkout\\Subtotal\\Subtotal.js":"10","D:\\Dev\\amazon-clone-react-app\\src\\components\\YellowButton\\YellowButton.js":"11","D:\\Dev\\amazon-clone-react-app\\src\\context\\AppStateContext.js":"12","D:\\Dev\\amazon-clone-react-app\\src\\context\\reducer.js":"13","D:\\Dev\\amazon-clone-react-app\\src\\components\\Header\\Nav\\NavShoppingBasket\\NavShoppingBasket.js":"14","D:\\Dev\\amazon-clone-react-app\\src\\components\\Checkout\\BasketItems\\BasketItems.js":"15","D:\\Dev\\amazon-clone-react-app\\src\\components\\Home\\ShoppingItem\\ShoppingItem.js":"16","D:\\Dev\\amazon-clone-react-app\\src\\components\\Login\\Login.js":"17","D:\\Dev\\amazon-clone-react-app\\src\\firebase.js":"18","D:\\Dev\\amazon-clone-react-app\\src\\components\\Payment\\Payment.js":"19","D:\\Dev\\amazon-clone-react-app\\src\\components\\CheckoutShoppingItem\\CheckoutShoppingItem.js":"20","D:\\Dev\\amazon-clone-react-app\\src\\axios.js":"21","D:\\Dev\\amazon-clone-react-app\\src\\components\\Orders\\Orders.js":"22","D:\\Dev\\amazon-clone-react-app\\src\\components\\Orders\\Order\\Order.js":"23"},{"size":756,"mtime":1611942454034,"results":"24","hashOfConfig":"25"},{"size":2486,"mtime":1616896221570,"results":"26","hashOfConfig":"25"},{"size":362,"mtime":1611835490000,"results":"27","hashOfConfig":"25"},{"size":343,"mtime":1611835490000,"results":"28","hashOfConfig":"25"},{"size":383,"mtime":1611835490000,"results":"29","hashOfConfig":"25"},{"size":383,"mtime":1611835490000,"results":"30","hashOfConfig":"25"},{"size":1494,"mtime":1613667296834,"results":"31","hashOfConfig":"25"},{"size":1200,"mtime":1613667134099,"results":"32","hashOfConfig":"25"},{"size":1268,"mtime":1613667224279,"results":"33","hashOfConfig":"25"},{"size":1456,"mtime":1613667260706,"results":"34","hashOfConfig":"25"},{"size":359,"mtime":1613600948555,"results":"35","hashOfConfig":"25"},{"size":443,"mtime":1611835490000,"results":"36","hashOfConfig":"25"},{"size":1778,"mtime":1612997722054,"results":"37","hashOfConfig":"25"},{"size":558,"mtime":1611835490000,"results":"38","hashOfConfig":"25"},{"size":898,"mtime":1612367242165,"results":"39","hashOfConfig":"25"},{"size":1934,"mtime":1613667439126,"results":"40","hashOfConfig":"25"},{"size":2528,"mtime":1616895152205,"results":"41","hashOfConfig":"25"},{"size":582,"mtime":1616896208731,"results":"42","hashOfConfig":"25"},{"size":6239,"mtime":1613668773598,"results":"43","hashOfConfig":"25"},{"size":2319,"mtime":1613667105006,"results":"44","hashOfConfig":"25"},{"size":447,"mtime":1613660662784,"results":"45","hashOfConfig":"25"},{"size":1227,"mtime":1613667388118,"results":"46","hashOfConfig":"25"},{"size":1350,"mtime":1613594329652,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"1iwezr",{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"50"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"50"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"50"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"50"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"D:\\Dev\\amazon-clone-react-app\\src\\index.js",[],["100","101"],"D:\\Dev\\amazon-clone-react-app\\src\\App.js",["102"],"import React, { useEffect } from 'react';\nimport './App.scss';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport Header from './components/Header/Header';\nimport Login from './components/Login/Login';\nimport Home from './components/Home/Home';\nimport Checkout from './components/Checkout/Checkout';\nimport Payment from './components/Payment/Payment';\nimport Orders from './components/Orders/Orders';\nimport { useMyAppStateContext } from './context/AppStateContext';\nimport { auth } from './firebase';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements } from '@stripe/react-stripe-js';\n\nconst promise = loadStripe(\n    process.env.REACT_APP_STRIPE_API_KEY\n);\n\n// console.log(\"typeof(process.env.REACT_APP_STRIPE_API_KEY) = \", typeof(process.env.REACT_APP_STRIPE_API_KEY))\n\nfunction App() {\n    const [state, dispatch] = useMyAppStateContext();\n\n    useEffect(() => {\n        auth.onAuthStateChanged( (authUser) => {\n            // console.log(\"[ App ]: authUser = \", authUser);\n            if (authUser) {\n                // user just logged in / user was logged in\n                dispatch({\n                    type: 'SET_USER',\n                    user: authUser\n                })\n\n            } else {\n                // user just logged out\n                dispatch({\n                    type: 'SET_USER',\n                    user: null\n                })\n            }\n        })\n    }, [dispatch]);\n\n    return (\n            <HashRouter>\n                <div className=\"App\">\n                    <Switch>\n                        <Route path=\"/\" exact>\n                            <Header />\n                            <Home />\n                        </Route>\n\n                        <Route path=\"/login\" exact component={Login} />\n\n                        <Route path=\"/checkout\" exact>\n                            <Header />\n                            <Checkout />\n                        </Route>\n\n                        <Route path=\"/payment\" exact>\n                            <Header />\n                            <Elements stripe={promise}>\n                                <Payment />\n                            </Elements>\n                        </Route>\n\n                        <Route path=\"/orders\" exact>\n                            <Header />\n                            <Orders />\n                        </Route>\n                    </Switch>\n                </div>\n            </HashRouter>\n    );\n}\n\nexport default App;\n","D:\\Dev\\amazon-clone-react-app\\src\\reportWebVitals.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Header\\Header.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Header\\NavLogo\\NavLogo.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Header\\SearchBar\\SearchBar.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Header\\Nav\\Nav.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Home\\Home.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Checkout\\Checkout.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Checkout\\Subtotal\\Subtotal.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\YellowButton\\YellowButton.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\context\\AppStateContext.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\context\\reducer.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Header\\Nav\\NavShoppingBasket\\NavShoppingBasket.js",[],["103","104"],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Checkout\\BasketItems\\BasketItems.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Home\\ShoppingItem\\ShoppingItem.js",["105"],"import React from 'react';\nimport './ShoppingItem.scss';\nimport StarRoundedIcon from '@material-ui/icons/StarRounded';\nimport StarBorderRoundedIcon from '@material-ui/icons/StarBorderRounded';\nimport YellowButton from '../../YellowButton/YellowButton';\nimport { useMyAppStateContext } from '../../../context/AppStateContext';\n\nexport default function ShoppingItem({ id, title, image, price, rating }) {\n    const [state, dispatch] = useMyAppStateContext();\n    // console.log(\"[ ShoppingItem ]: state = \", state);\n\n    function handleClick() {\n        // console.log(\"Basket Click TEST\");\n        dispatch({\n            type: 'ADD_TO_BASKET',\n            item: {\n                id: id,\n                title: title,\n                image: image,\n                price: price,\n                rating: rating\n            }\n        })\n    }\n\n    return(\n        <div className=\"ShoppingItem\">\n            <div className=\"inner-container\">\n                <p className=\"product-title\">\n                    {title}\n                </p>\n                <p className=\"product-price\">\n                    <small>$</small>\n                    <strong>{price}</strong>\n                </p>\n                <div className=\"product-rating\">\n                    {\n                        (rating && rating > 0) ? Array(rating).fill().map( (_, i) =>\n                            <StarRoundedIcon key={`fullstar${i}`} />\n                        ) : null\n                    }\n                    {\n                        (rating && rating < 5) ? Array(5 - rating).fill().map( (_, i) =>\n                            <StarBorderRoundedIcon key={`emptystar${i}`} />\n                        ) : null\n                    }\n                </div>\n                <img src={image} alt=\"product\"/>\n\n                <YellowButton\n                    text=\"Add To Basket\"\n                    clicked={handleClick} />\n            </div>\n        </div>\n    )\n}\n","D:\\Dev\\amazon-clone-react-app\\src\\components\\Login\\Login.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\firebase.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Payment\\Payment.js",["106"],"import React, { useState, useEffect } from 'react';\r\nimport './Payment.scss';\r\nimport CheckoutShoppingItem from '../CheckoutShoppingItem/CheckoutShoppingItem';\r\nimport { useMyAppStateContext } from '../../context/AppStateContext';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport { getBasketTotal } from '../../context/reducer';\r\nimport axios from '../../axios';\r\nimport { db } from '../../firebase';\r\n\r\n\r\nexport default function Payment() {\r\n    const [{ basket, user }, dispatch] = useMyAppStateContext();\r\n    // console.log(\"[ Payment ]: basket = \", basket);\r\n    // console.log(\"[ Payment ]: user = \", user);\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n    const [error, setError] = useState(null);\r\n    const [disabled, setDisabled] = useState(true);\r\n    const [succeded, setSucceded] = useState(false);\r\n    const [processing, setProcessing] = useState(\"\");\r\n    const [clientSecret, setClientSecret] = useState(true);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        const getClientSecret = async () => {\r\n            const  response = await axios({\r\n                method: \"POST\",\r\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`\r\n            });\r\n\r\n            setClientSecret(response.data.clientSecret)\r\n        }\r\n\r\n        getClientSecret();\r\n    }, [basket])\r\n\r\n    // console.log(\"[ Payment ]: THE SECRET IS >>> \", clientSecret);\r\n    // console.log(\"[ Payment ]: db = \", db);\r\n    // console.log(\"[ Payment ]: user = \", user);\r\n\r\n    async function handleSubmit(e) {\r\n        // console.log(\"[ Payment ]: handleSubmit, e = \", e);\r\n        e.preventDefault();\r\n        setProcessing(true);\r\n\r\n        const payload = await stripe.confirmCardPayment(clientSecret, {\r\n                payment_method: {\r\n                    card: elements.getElement(CardElement)\r\n                }\r\n            })\r\n            .then(({ paymentIntent }) => {\r\n                // paymentIntent === payment confirmation\r\n\r\n                db\r\n                    .collection('users')\r\n                    .doc(user?.uid)\r\n                    .collection('orders')\r\n                    .doc(paymentIntent.id)\r\n                    .set({\r\n                        basket: basket,\r\n                        amount: paymentIntent.amount,\r\n                        created: paymentIntent.created\r\n                    })\r\n\r\n                setSucceded(true);\r\n                setError(null);\r\n                setProcessing(false);\r\n\r\n                dispatch({\r\n                    type: 'EMPTY_BASKET'\r\n                });\r\n\r\n                history.replace(\"/orders\");\r\n            })\r\n    }\r\n\r\n    function handleChange(e) {\r\n        // console.log(\"[ Payment ]: handleChange, e = \", e);\r\n        // e.empty === fasle if at least one number was typed in\r\n        setDisabled(e.empty);\r\n        setError(error ? error.message : \"\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"Payment\">\r\n            <div className=\"payment-container address\">\r\n                <h1>\r\n                    Checkout (\r\n                        <Link to=\"/checkout\">{basket?.length} items</Link>\r\n                        )\r\n                </h1>\r\n\r\n                <div className=\"payment-section\">\r\n                    <div className=\"payment-title\">\r\n                        <h3>Delivery Address</h3>\r\n                    </div>\r\n                    <div className=\"payment-details\">\r\n                        <p>{user?.email}</p>\r\n                        <p>123 React Lane</p>\r\n                        <p>Philadelphia, PA</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"payment-section\">\r\n                    <div className=\"payment-title\">\r\n                        <h3>Review items and delivery</h3>\r\n                    </div>\r\n                    <div className=\"payment-details\">\r\n                        {basket?.map( (item, i) => {\r\n                            return (\r\n                                <CheckoutShoppingItem\r\n                                    id={item.id}\r\n                                    title={item.title}\r\n                                    price={item.price}\r\n                                    rating={item.rating}\r\n                                    image={item.image}\r\n                                    key={`checkoutproduct${i}`}\r\n                                    />\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"payment-section\">\r\n                    <div className=\"payment-title\">\r\n                        <h3>Payment Method</h3>\r\n                    </div>\r\n\r\n                    <div className=\"payment-details\">\r\n                        <form onSubmit={handleSubmit}>\r\n                            <CardElement onChange={handleChange} />\r\n\r\n                            <div className=\"payment-priceContainer\">\r\n                                <CurrencyFormat\r\n                                    renderText={(value) => (\r\n                                        <h3>Order total: {value}</h3>\r\n                                    )}\r\n                                    decimalScale={2}\r\n                                    value={getBasketTotal(basket)}\r\n                                    displayType={\"text\"}\r\n                                    thousandSeparator={true}\r\n                                    prefix={\"$\"}\r\n                                    />\r\n                            </div>\r\n\r\n                            <button\r\n                                className=\"buy-button\"\r\n                                disabled={processing || disabled || succeded}>\r\n                                <span>{processing ? <span>Processing</span> : \"Buy Now\"}</span>\r\n                            </button>\r\n\r\n                            {/*Errors:*/}\r\n                            {error && <div>{error}</div>}\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n","D:\\Dev\\amazon-clone-react-app\\src\\components\\CheckoutShoppingItem\\CheckoutShoppingItem.js",["107","108"],"import React from 'react';\nimport './CheckoutShoppingItem.scss';\nimport StarRoundedIcon from '@material-ui/icons/StarRounded';\nimport StarBorderRoundedIcon from '@material-ui/icons/StarBorderRounded';\nimport YellowButton from '../YellowButton/YellowButton';\nimport { useMyAppStateContext } from '../../context/AppStateContext';\n\nexport default function CheckoutShoppingItem({ id, title, image, price, rating, hideButton }) {\n    const [{ basket, user }, dispatch] = useMyAppStateContext();\n    // console.log(\"[ CheckoutShoppingItem ]: basket = \", basket);\n    // console.log(\"[ CheckoutShoppingItem ]: user = \", user);\n\n    function handleClick(index) {\n        // console.log(\"[ BasketShoppingItem ]: CLIKED item id: \", id);\n        dispatch({\n            type: 'REMOVE_FROM_BASKET',\n            item: {\n                id: id,\n                title: title,\n                image: image,\n                price: price,\n                rating: rating\n            }\n        })\n    }\n\n    return(\n        <div className=\"CheckoutShoppingItem\">\n            <div className=\"inner-container\">\n                <img src={image} alt=\"product\"/>\n\n                <div className=\"item-info\">\n                    <p className=\"product-title\">\n                        {title}\n                    </p>\n                    <p className=\"product-price\">\n                        <small>$</small>\n                        <strong>{price}</strong>\n                    </p>\n                    <div className=\"product-rating\">\n                        {\n                            (rating && rating > 0) ? Array(rating).fill().map( (_, i) =>\n                                <StarRoundedIcon key={`fullstar${i}`} />\n                            ) : null\n                        }\n                        {\n                            (rating && rating < 5) ? Array(5 - rating).fill().map( (_, i) =>\n                                <StarBorderRoundedIcon key={`emptystar${i}`} />\n                            ) : null\n                        }\n                    </div>\n\n                    {!hideButton && (\n                        <YellowButton\n                            text=\"Remove from basket\"\n                            clicked={handleClick} />\n                    )}\n                </div>\n            </div>\n        </div>\n    )\n}\n","D:\\Dev\\amazon-clone-react-app\\src\\axios.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Orders\\Orders.js",[],"D:\\Dev\\amazon-clone-react-app\\src\\components\\Orders\\Order\\Order.js",[],{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","severity":1,"message":"114","line":22,"column":12,"nodeType":"115","messageId":"116","endLine":22,"endColumn":17},{"ruleId":"109","replacedBy":"117"},{"ruleId":"111","replacedBy":"118"},{"ruleId":"113","severity":1,"message":"114","line":9,"column":12,"nodeType":"115","messageId":"116","endLine":9,"endColumn":17},{"ruleId":"113","severity":1,"message":"119","line":48,"column":15,"nodeType":"115","messageId":"116","endLine":48,"endColumn":22},{"ruleId":"113","severity":1,"message":"120","line":9,"column":14,"nodeType":"115","messageId":"116","endLine":9,"endColumn":20},{"ruleId":"113","severity":1,"message":"121","line":9,"column":22,"nodeType":"115","messageId":"116","endLine":9,"endColumn":26},"no-native-reassign",["122"],"no-negated-in-lhs",["123"],"no-unused-vars","'state' is assigned a value but never used.","Identifier","unusedVar",["122"],["123"],"'payload' is assigned a value but never used.","'basket' is assigned a value but never used.","'user' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]